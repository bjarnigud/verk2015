@using SozialWeb.Models
@model IEnumerable<SozialWeb.Models.Group>

    @{
        ViewBag.Title = "GroupsView";
    }
    <h2>Search for a group</h2>
    @using(Html.BeginForm("GroupsView", "Groups"))
    {
        @Html.TextBox("searchString");
        <input type="submit" value="Search">
    }

                      <table class="table">
                          <tr>
                              <th>
                                  @Html.DisplayNameFor(model => model.name)<br />
                                
                              </th>
                              <th></th>
                          </tr>

                          @foreach (var item in Model)
                          {
                              <tr>
                                  <td>
                                      @Html.DisplayFor(modelItem => item.name)
                                  </td>
                                  <td>
                                      @Html.ActionLink("View group", "GroupProfile", "Groups", new { groupId = item.ID }, null) |
                                      @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
                                      @Html.ActionLink("Join Group", "JoinGroup", "Groups", new { groupId = item.ID }, null) |
                                      @Html.ActionLink("Leave Group", "LeaveGroup", "Groups", new { groupId = item.ID }, null) |
                                      @Html.DisplayFor(modelItem => item.descriptionOfGroup)
                                      
                                  </td>
                              </tr>
                          }

                      </table>

    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Group</h4>
        <hr />
        @Html.ValidationSummary(true)

        @using (Html.BeginForm("CreateNewGroup", "Groups"))
        {

            <fieldset>
                <legend>Create group</legend>
                <div class="form-group">
                    <label for="" class="control-label">Name of the group:</label>
                    <br/>
                    @Html.TextBox("name");
                </div>

                <div class="form-group">
                    <label for="" class="control-label">Description:</label>
                    <br />
                    <textarea name="description" cols="60" rows="5" placeholder="Description.."></textarea>
                </div>


                <input type="submit" class="btn btn-primary" value="Create" />
            </fieldset>
        }
        </div>
        <div>
            @Html.ActionLink("Back to List", "Index")
        </div>

        @section Scripts {
            @Scripts.Render("~/bundles/jqueryval")
        }
